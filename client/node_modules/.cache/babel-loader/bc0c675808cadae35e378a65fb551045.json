{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport { supportRef, useComposeRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\nimport { CollectionContext } from \"../Collection\";\nimport { observe, unobserve } from \"../utils/observerUtil\";\nimport DomWrapper from \"./DomWrapper\";\n\nfunction SingleObserver(props, ref) {\n  var children = props.children,\n      disabled = props.disabled;\n  var elementRef = React.useRef(null);\n  var wrapperRef = React.useRef(null);\n  var onCollectionResize = React.useContext(CollectionContext); // =========================== Children ===========================\n\n  var isRenderProps = typeof children === 'function';\n  var mergedChildren = isRenderProps ? children(elementRef) : children; // ============================= Size =============================\n\n  var sizeRef = React.useRef({\n    width: -1,\n    height: -1,\n    offsetWidth: -1,\n    offsetHeight: -1\n  }); // ============================= Ref ==============================\n\n  var canRef = !isRenderProps && /*#__PURE__*/React.isValidElement(mergedChildren) && supportRef(mergedChildren);\n  var originRef = canRef ? mergedChildren.ref : null;\n  var mergedRef = useComposeRef(originRef, elementRef);\n\n  var getDom = function getDom() {\n    var _elementRef$current;\n\n    return findDOMNode(elementRef.current) || ( // Support `nativeElement` format\n    elementRef.current && _typeof(elementRef.current) === 'object' ? findDOMNode((_elementRef$current = elementRef.current) === null || _elementRef$current === void 0 ? void 0 : _elementRef$current.nativeElement) : null) || findDOMNode(wrapperRef.current);\n  };\n\n  React.useImperativeHandle(ref, function () {\n    return getDom();\n  }); // =========================== Observe ============================\n\n  var propsRef = React.useRef(props);\n  propsRef.current = props; // Handler\n\n  var onInternalResize = React.useCallback(function (target) {\n    var _propsRef$current = propsRef.current,\n        onResize = _propsRef$current.onResize,\n        data = _propsRef$current.data;\n\n    var _target$getBoundingCl = target.getBoundingClientRect(),\n        width = _target$getBoundingCl.width,\n        height = _target$getBoundingCl.height;\n\n    var offsetWidth = target.offsetWidth,\n        offsetHeight = target.offsetHeight;\n    /**\n     * Resize observer trigger when content size changed.\n     * In most case we just care about element size,\n     * let's use `boundary` instead of `contentRect` here to avoid shaking.\n     */\n\n    var fixedWidth = Math.floor(width);\n    var fixedHeight = Math.floor(height);\n\n    if (sizeRef.current.width !== fixedWidth || sizeRef.current.height !== fixedHeight || sizeRef.current.offsetWidth !== offsetWidth || sizeRef.current.offsetHeight !== offsetHeight) {\n      var size = {\n        width: fixedWidth,\n        height: fixedHeight,\n        offsetWidth: offsetWidth,\n        offsetHeight: offsetHeight\n      };\n      sizeRef.current = size; // IE is strange, right?\n\n      var mergedOffsetWidth = offsetWidth === Math.round(width) ? width : offsetWidth;\n      var mergedOffsetHeight = offsetHeight === Math.round(height) ? height : offsetHeight;\n\n      var sizeInfo = _objectSpread(_objectSpread({}, size), {}, {\n        offsetWidth: mergedOffsetWidth,\n        offsetHeight: mergedOffsetHeight\n      }); // Let collection know what happened\n\n\n      onCollectionResize === null || onCollectionResize === void 0 || onCollectionResize(sizeInfo, target, data);\n\n      if (onResize) {\n        // defer the callback but not defer to next frame\n        Promise.resolve().then(function () {\n          onResize(sizeInfo, target);\n        });\n      }\n    }\n  }, []); // Dynamic observe\n\n  React.useEffect(function () {\n    var currentElement = getDom();\n\n    if (currentElement && !disabled) {\n      observe(currentElement, onInternalResize);\n    }\n\n    return function () {\n      return unobserve(currentElement, onInternalResize);\n    };\n  }, [elementRef.current, disabled]); // ============================ Render ============================\n\n  return /*#__PURE__*/React.createElement(DomWrapper, {\n    ref: wrapperRef\n  }, canRef ? /*#__PURE__*/React.cloneElement(mergedChildren, {\n    ref: mergedRef\n  }) : mergedChildren);\n}\n\nvar RefSingleObserver = /*#__PURE__*/React.forwardRef(SingleObserver);\n\nif (process.env.NODE_ENV !== 'production') {\n  RefSingleObserver.displayName = 'SingleObserver';\n}\n\nexport default RefSingleObserver;","map":{"version":3,"sources":["C:/Users/vyshn/OneDrive/Desktop/Mern project/CarDhundo/client/node_modules/rc-resize-observer/es/SingleObserver/index.js"],"names":["_objectSpread","_typeof","findDOMNode","supportRef","useComposeRef","React","CollectionContext","observe","unobserve","DomWrapper","SingleObserver","props","ref","children","disabled","elementRef","useRef","wrapperRef","onCollectionResize","useContext","isRenderProps","mergedChildren","sizeRef","width","height","offsetWidth","offsetHeight","canRef","isValidElement","originRef","mergedRef","getDom","_elementRef$current","current","nativeElement","useImperativeHandle","propsRef","onInternalResize","useCallback","target","_propsRef$current","onResize","data","_target$getBoundingCl","getBoundingClientRect","fixedWidth","Math","floor","fixedHeight","size","mergedOffsetWidth","round","mergedOffsetHeight","sizeInfo","Promise","resolve","then","useEffect","currentElement","createElement","cloneElement","RefSingleObserver","forwardRef","process","env","NODE_ENV","displayName"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport { supportRef, useComposeRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\nimport { CollectionContext } from \"../Collection\";\nimport { observe, unobserve } from \"../utils/observerUtil\";\nimport DomWrapper from \"./DomWrapper\";\nfunction SingleObserver(props, ref) {\n  var children = props.children,\n    disabled = props.disabled;\n  var elementRef = React.useRef(null);\n  var wrapperRef = React.useRef(null);\n  var onCollectionResize = React.useContext(CollectionContext);\n\n  // =========================== Children ===========================\n  var isRenderProps = typeof children === 'function';\n  var mergedChildren = isRenderProps ? children(elementRef) : children;\n\n  // ============================= Size =============================\n  var sizeRef = React.useRef({\n    width: -1,\n    height: -1,\n    offsetWidth: -1,\n    offsetHeight: -1\n  });\n\n  // ============================= Ref ==============================\n  var canRef = !isRenderProps && /*#__PURE__*/React.isValidElement(mergedChildren) && supportRef(mergedChildren);\n  var originRef = canRef ? mergedChildren.ref : null;\n  var mergedRef = useComposeRef(originRef, elementRef);\n  var getDom = function getDom() {\n    var _elementRef$current;\n    return findDOMNode(elementRef.current) || (\n    // Support `nativeElement` format\n    elementRef.current && _typeof(elementRef.current) === 'object' ? findDOMNode((_elementRef$current = elementRef.current) === null || _elementRef$current === void 0 ? void 0 : _elementRef$current.nativeElement) : null) || findDOMNode(wrapperRef.current);\n  };\n  React.useImperativeHandle(ref, function () {\n    return getDom();\n  });\n\n  // =========================== Observe ============================\n  var propsRef = React.useRef(props);\n  propsRef.current = props;\n\n  // Handler\n  var onInternalResize = React.useCallback(function (target) {\n    var _propsRef$current = propsRef.current,\n      onResize = _propsRef$current.onResize,\n      data = _propsRef$current.data;\n    var _target$getBoundingCl = target.getBoundingClientRect(),\n      width = _target$getBoundingCl.width,\n      height = _target$getBoundingCl.height;\n    var offsetWidth = target.offsetWidth,\n      offsetHeight = target.offsetHeight;\n\n    /**\n     * Resize observer trigger when content size changed.\n     * In most case we just care about element size,\n     * let's use `boundary` instead of `contentRect` here to avoid shaking.\n     */\n    var fixedWidth = Math.floor(width);\n    var fixedHeight = Math.floor(height);\n    if (sizeRef.current.width !== fixedWidth || sizeRef.current.height !== fixedHeight || sizeRef.current.offsetWidth !== offsetWidth || sizeRef.current.offsetHeight !== offsetHeight) {\n      var size = {\n        width: fixedWidth,\n        height: fixedHeight,\n        offsetWidth: offsetWidth,\n        offsetHeight: offsetHeight\n      };\n      sizeRef.current = size;\n\n      // IE is strange, right?\n      var mergedOffsetWidth = offsetWidth === Math.round(width) ? width : offsetWidth;\n      var mergedOffsetHeight = offsetHeight === Math.round(height) ? height : offsetHeight;\n      var sizeInfo = _objectSpread(_objectSpread({}, size), {}, {\n        offsetWidth: mergedOffsetWidth,\n        offsetHeight: mergedOffsetHeight\n      });\n\n      // Let collection know what happened\n      onCollectionResize === null || onCollectionResize === void 0 || onCollectionResize(sizeInfo, target, data);\n      if (onResize) {\n        // defer the callback but not defer to next frame\n        Promise.resolve().then(function () {\n          onResize(sizeInfo, target);\n        });\n      }\n    }\n  }, []);\n\n  // Dynamic observe\n  React.useEffect(function () {\n    var currentElement = getDom();\n    if (currentElement && !disabled) {\n      observe(currentElement, onInternalResize);\n    }\n    return function () {\n      return unobserve(currentElement, onInternalResize);\n    };\n  }, [elementRef.current, disabled]);\n\n  // ============================ Render ============================\n  return /*#__PURE__*/React.createElement(DomWrapper, {\n    ref: wrapperRef\n  }, canRef ? /*#__PURE__*/React.cloneElement(mergedChildren, {\n    ref: mergedRef\n  }) : mergedChildren);\n}\nvar RefSingleObserver = /*#__PURE__*/React.forwardRef(SingleObserver);\nif (process.env.NODE_ENV !== 'production') {\n  RefSingleObserver.displayName = 'SingleObserver';\n}\nexport default RefSingleObserver;"]},"metadata":{},"sourceType":"module"}